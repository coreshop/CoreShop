services:
    coreshop.core_extension.product.product_unit:
        class: CoreShop\Component\Resource\Pimcore\ResourceSelectObjectTagFactory
        arguments:
            - '%coreshop.model.product_unit.class%'
            - '@coreshop.repository.product_unit'
        tags:
            - { name: coreshop.pimcore.data_object.data, type: coreShopProductUnit }

    coreshop.core_extension.product.specific_price_rules:
        class: CoreShop\Bundle\ProductBundle\CoreExtension\Factory\ProductSpecificPriceRulesFactory
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@form.factory'
            - '@coreshop.repository.product_specific_price_rule'
            - '@jms_serializer'
            - '%coreshop.product_specific_price_rule.conditions%'
            - '%coreshop.product_specific_price_rule.actions%'
        tags:
            - { name: coreshop.pimcore.data_object.data, type: coreShopProductSpecificPriceRules }

    coreshop.core_extension.product.product_unit_definition:
        class: CoreShop\Bundle\ProductBundle\CoreExtension\Factory\ProductUnitDefinitionFactory
        arguments:
            - '@coreshop.repository.product_unit_definition'
        tags:
            - { name: coreshop.pimcore.data_object.data, type: coreShopProductUnitDefinition }

    coreshop.core_extension.product.product_unit_definitions:
        class: CoreShop\Bundle\ProductBundle\CoreExtension\Factory\ProductUnitDefinitionsFactory
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@form.factory'
            - '@coreshop.repository.product_unit_definitions'
            - '@jms_serializer'
        tags:
            - { name: coreshop.pimcore.data_object.data, type: coreShopProductUnitDefinitions }
