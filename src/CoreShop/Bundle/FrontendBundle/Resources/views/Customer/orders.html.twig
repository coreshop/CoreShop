{% import "@CoreShopFrontend/Common/Macro/currency.html.twig" as currency %}
{% extends '@CoreShopFrontend/layout-full.html.twig' %}

{% block center %}
    <div id="main-container" class="container p-0">

        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ path('coreshop_index') }}">{{ 'coreshop.ui.home'|trans }}</a></li>
            <li class="breadcrumb-item"><a href="{{ path('coreshop_customer_profile') }}">{{ 'coreshop.ui.profile'|trans }}</a></li>
            <li class="breadcrumb-item active"><a href="{{ path('coreshop_customer_orders') }}">{{ 'coreshop.ui.orders'|trans }}</a></li>
        </ol>

        <h2 class="main-heading text-center">
            {{ 'coreshop.ui.orders'|trans }}
        </h2>

        <div class="table-responsive compare-table">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <td>{{ 'coreshop.ui.order_number'|trans }}</td>
                    <td>{{ 'coreshop.ui.date'|trans }}</td>
                    <td>{{ 'coreshop.ui.total'|trans }}</td>
                    <td>{{ 'coreshop.ui.state'|trans }}</td>
                    <td></td>
                </tr>
                </thead>
                <tbody>
                {% for order in orders %}
                <tr>
                    <td>{{ order.getOrderNumber }}</td>
                    <td>
                        {{ order.getOrderDate|date("d.m.Y") }}
                    </td>
                    <td>
                        {{ currency.format(order.getTotal, order.getCurrency.getIsoCode) }}
                    </td>
                    <td>
                        <span class="badge badge-default">{{ order|coreshop_order_state.calculatedState }}</span>
                    </td>
                    <td>
                        <a class="btn btn-black" href="{{ path('coreshop_customer_order_detail', {order: order.getId}) }}">
                            {{ 'coreshop.ui.show_detail'|trans }}
                        </a>
                    </td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}