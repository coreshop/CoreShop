imports:
    - { resource: "services/wishlist.yml" }

services:
    coreshop.frontend.controller.abstract:
        class: CoreShop\Bundle\FrontendBundle\Controller\FrontendController
        abstract: true
        calls:
            - [setContainer, ['@service_container']]
            - [setTemplateConfigurator, ['@coreshop.frontend.template_configurator']]
            - [setSeoPresentation, ['@coreshop.seo.presentation']]

    coreshop.frontend.controller.index:
        class: '%coreshop.frontend.controller.index%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.register:
        class: '%coreshop.frontend.controller.register%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.customer:
        class: '%coreshop.frontend.controller.customer%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.currency:
        class: '%coreshop.frontend.controller.currency%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.language:
        class: '%coreshop.frontend.controller.language%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.search:
        class: '%coreshop.frontend.controller.search%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.cart:
        class: '%coreshop.frontend.controller.cart%'
        public: true
        parent: coreshop.frontend.controller.abstract
        calls:
            - [setTrackingManager, ['@coreshop.tracking.manager']]
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.checkout:
        class: '%coreshop.frontend.controller.checkout%'
        public: true
        arguments:
            - '@coreshop.checkout_manager.factory'
            - '@coreshop.tracking.manager'
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.order:
        class: '%coreshop.frontend.controller.order%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.category:
        class: '%coreshop.frontend.controller.category%'
        public: true
        parent: coreshop.frontend.controller.abstract
        calls:
            - [setTrackingManager, ['@coreshop.tracking.manager']]
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.product:
        class: '%coreshop.frontend.controller.product%'
        public: true
        parent: coreshop.frontend.controller.abstract
        calls:
            - [setTrackingManager, ['@coreshop.tracking.manager']]
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.quote:
        class: '%coreshop.frontend.controller.quote%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.mail:
        class: '%coreshop.frontend.controller.mail%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.security:
        class: '%coreshop.frontend.controller.security%'
        public: true
        parent: coreshop.frontend.controller.abstract
        arguments:
            - '@security.authentication_utils'
            - '@form.factory'
            - '@coreshop.context.shopper'
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.wishlist:
        class: '%coreshop.frontend.controller.wishlist%'
        public: true
        parent: coreshop.frontend.controller.abstract
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.controller.payment:
        class: '%coreshop.frontend.controller.payment%'
        public: true
        arguments:
            - '@coreshop.factory.payment'
            - '@coreshop.repository.order'
            - '@coreshop.object_service'
            - '@coreshop.context.currency'
            - '@doctrine.orm.entity_manager'
        calls:
            - [setContainer, ['@service_container']]
        tags:
            - { name: controller.service_arguments }

    coreshop.frontend.template_configurator:
        class: CoreShop\Bundle\FrontendBundle\TemplateConfigurator\TemplateConfigurator
        arguments:
            - '%coreshop.frontend.view_bundle%'
            - '%coreshop.frontend.view_suffix%'

    CoreShop\Bundle\FrontendBundle\TemplateConfigurator\TemplateConfiguratorInterface:
        alias: coreshop.frontend.template_configurator